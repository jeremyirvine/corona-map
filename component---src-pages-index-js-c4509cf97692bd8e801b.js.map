{"version":3,"sources":["webpack:///./node_modules/@react-leaflet/core/esm/context.js","webpack:///./node_modules/react-leaflet/esm/hooks.js","webpack:///./src/lib/util.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/react-leaflet/esm/MapContainer.js","webpack:///./node_modules/@react-leaflet/core/esm/component.js","webpack:///./node_modules/@react-leaflet/core/esm/element.js","webpack:///./node_modules/@react-leaflet/core/esm/attribution.js","webpack:///./node_modules/@react-leaflet/core/esm/events.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@react-leaflet/core/esm/pane.js","webpack:///./node_modules/@react-leaflet/core/esm/layer.js","webpack:///./node_modules/react-leaflet/esm/TileLayer.js","webpack:///./node_modules/@react-leaflet/core/esm/control.js","webpack:///./node_modules/@react-leaflet/core/esm/generic.js","webpack:///./node_modules/@react-leaflet/core/esm/grid-layer.js","webpack:///./node_modules/react-leaflet/esm/ZoomControl.js","webpack:///./src/components/Map.js","webpack:///./src/pages/index.js"],"names":["LeafletContext","LeafletProvider","Provider","useLeafletContext","context","Error","useMap","map","commafy","value","origString","numberString","split","reverse","reduce","prev","current","index","updatedValue","length","join","_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","Object","keys","indexOf","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_slicedToArray","arr","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","_extends","assign","arguments","hasOwnProperty","apply","this","MapContainer","_ref","children","className","id","placeholder","style","whenCreated","options","mapRef","props","_useState2","setMap","instance","center","zoom","setView","bounds","fitBounds","boundsOptions","whenReady","useMapElement","createdRef","__version","contents","createElement","ref","createLeafComponent","useElement","LeafComponent","createElementHook","updateElement","elementRef","propsRef","useAttribution","attribution","attributionRef","attributionControl","removeAttribution","addAttribution","useEventHandlers","element","eventHandlers","eventHandlersRef","on","off","_defineProperty","obj","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","withPane","_props$pane","pane","useLayerLifecycle","_context$layerContain","container","layerContainer","addLayer","removeLayer","createLayerHook","createInstance","TileLayer","url","layer","prevProps","opacity","zIndex","setOpacity","setZIndex","ZoomControl","Zoom","positionRef","position","addTo","remove","setPosition","Map","defaultBaseMap","rest","useConfigureLeaflet","basemap","useMapServices","names","Set","find","service","name","mapClassName","window","document","mapSettings","zoomControl","CENTER","IndexPage","date","useTracker","api","data","countries","stats","hasCountries","dashboardStats","primary","label","cases","secondary","casesPerOneMillion","deaths","deathsPerOneMillion","tests","testsPerOneMillion","critical","criticalPerOneMillion","active","activePerOneMillion","recovered","recoveredPerOneMillion","MapEffect","useEffect","a","geoJson","type","features","country","countryInfo","lat","lng","long","properties","geometry","coordinates","L","GeoJSON","pointToLayer","feature","latlng","updatedFormatted","casesString","updated","Math","floor","slice","Date","toLocaleString","html","marker","icon","divIcon","riseOnHover","fetch","console","log","Layout","pageName","Helmet","Intl","DateTimeFormat","year","month","day","hour","minute","format"],"mappings":"yMAEWA,EAA8B,wBAAc,MAC5CC,EAAkBD,EAAeE,SACrC,SAASC,IACd,IAAIC,EAAU,qBAAWJ,GAEzB,GAAe,MAAXI,EACF,MAAM,IAAIC,MAAM,+FAGlB,OAAOD,ECTF,SAASE,IACd,OAAOH,IAAoBI,I,oCCOtB,SAASC,EAAQC,GACtB,IAAIC,EAAU,GAAMD,EAChBE,EAAeD,EAAWE,MAAM,KAAK,GAmBzC,OAjBAD,EAAeA,EAAaC,MAAM,KAErBC,WAWbF,GATAA,EAAeA,EAAaG,QAAO,SAACC,EAAMC,EAASC,GACjD,IACIC,EAAY,GAAMH,EAAOC,EAI7B,OALqBC,EAAQ,GAAK,GAAM,GAAKA,EAAQ,EAAIN,EAAaQ,SAGpED,GAAY,KAEPA,IACN,KAEyBN,MAAM,KACrBC,UACbF,EAAeA,EAAaS,KAAK,IAE1BV,EAAWE,MAAM,KAAKO,OAAS,EAAI,CAACR,EAAcD,EAAWE,MAAM,KAAK,IAAIQ,KAAK,KAAOT,E,wCC/BlF,SAASU,EAA8BC,EAAQC,GAC5D,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEIE,EAAKC,EAFLC,EAAS,GACTC,EAAaC,OAAOC,KAAKP,GAG7B,IAAKG,EAAI,EAAGA,EAAIE,EAAWR,OAAQM,IACjCD,EAAMG,EAAWF,GACbF,EAASO,QAAQN,IAAQ,IAC7BE,EAAOF,GAAOF,EAAOE,IAGvB,OAAOE,ECXM,SAASK,EAAyBT,EAAQC,GACvD,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACIE,EAAKC,EADLC,EAAS,EAA6BJ,EAAQC,GAGlD,GAAIK,OAAOI,sBAAuB,CAChC,IAAIC,EAAmBL,OAAOI,sBAAsBV,GAEpD,IAAKG,EAAI,EAAGA,EAAIQ,EAAiBd,OAAQM,IACvCD,EAAMS,EAAiBR,GACnBF,EAASO,QAAQN,IAAQ,GACxBI,OAAOM,UAAUC,qBAAqBC,KAAKd,EAAQE,KACxDE,EAAOF,GAAOF,EAAOE,IAIzB,OAAOE,E,gBCbM,SAASW,EAAeC,EAAKb,GAC1C,OCLa,SAAyBa,GACtC,GAAIC,MAAMC,QAAQF,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKb,GACjD,GAAsB,oBAAXgB,QAA4BA,OAAOC,YAAYd,OAAOU,GAAjE,CACA,IAAIK,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKX,EAAIG,OAAOC,cAAmBE,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGvC,QAETgB,GAAKkB,EAAKxB,SAAWM,GAH8CmB,GAAK,IAK9E,MAAOS,GACPR,GAAK,EACLC,EAAKO,EACL,QACA,IACOT,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBL,EAAKb,IAAM,OAAA6B,EAAA,GAA2BhB,EAAKb,IGLjF,WACb,MAAM,IAAI8B,UAAU,6IHIgF,GIFtG,SAASC,IAeP,OAdAA,EAAW5B,OAAO6B,QAAU,SAAU/B,GACpC,IAAK,IAAID,EAAI,EAAGA,EAAIiC,UAAUvC,OAAQM,IAAK,CACzC,IAAIH,EAASoC,UAAUjC,GAEvB,IAAK,IAAID,KAAOF,EACVM,OAAOM,UAAUyB,eAAevB,KAAKd,EAAQE,KAC/CE,EAAOF,GAAOF,EAAOE,IAK3B,OAAOE,IAGOkC,MAAMC,KAAMH,WA+BvB,SAASI,EAAaC,GAC3B,IAAIC,EAAWD,EAAKC,SAChBC,EAAYF,EAAKE,UACjBC,EAAKH,EAAKG,GACVC,EAAcJ,EAAKI,YACnBC,EAAQL,EAAKK,MACbC,EAAcN,EAAKM,YACnBC,EAAUvC,EAAyBgC,EAAM,CAAC,WAAY,YAAa,KAAM,cAAe,QAAS,gBAEjGQ,EAAS,iBAAO,MAChBhE,EAnCC,SAAuBgE,EAAQC,GACpC,IACIC,EAAapC,EADD,mBAAS,MACkB,GACvC9B,EAAMkE,EAAW,GACjBC,EAASD,EAAW,GAmBxB,OAjBA,qBAAU,WACR,GAAuB,OAAnBF,EAAOvD,SAA4B,OAART,EAAc,CAC3C,IAAIoE,EAAW,IAAI,MAAWJ,EAAOvD,QAASwD,GAE1B,MAAhBA,EAAMI,QAAgC,MAAdJ,EAAMK,KAChCF,EAASG,QAAQN,EAAMI,OAAQJ,EAAMK,MACZ,MAAhBL,EAAMO,QACfJ,EAASK,UAAUR,EAAMO,OAAQP,EAAMS,eAGlB,MAAnBT,EAAMU,WACRP,EAASO,UAAUV,EAAMU,WAG3BR,EAAOC,MAER,CAACJ,EAAQhE,EAAKiE,IACVjE,EAYG4E,CAAcZ,EAAQD,GAC5Bc,EAAa,kBAAO,GACxB,qBAAU,WACG,MAAP7E,IAAsC,IAAvB6E,EAAWpE,SAAoC,MAAfqD,IACjDe,EAAWpE,SAAU,EACrBqD,EAAY9D,MAEb,CAACA,EAAK8D,IAET,IAAIG,EAAQ,mBAAQ,WAClB,MAAO,CACLP,UAAWA,EACXC,GAAIA,EACJE,MAAOA,KAER,IACChE,EAAU,mBAAQ,WACpB,OAAOG,EAAM,CACX8E,UT5EuB,ES6EvB9E,IAAKA,GACH,OACH,CAACA,IACA+E,EAAWlF,EAAuB,IAAMmF,cAActF,EAAiB,CACzEQ,MAAOL,GACN4D,GAA2B,MAAfG,EAAsBA,EAAc,KACnD,OAAoB,IAAMoB,cAAc,MAAO/B,EAAS,GAAIgB,EAAO,CACjEgB,IAAKjB,IACHe,G,UC5CC,SAASG,EAAoBC,GAClC,SAASC,EAAcnB,EAAOgB,GAC5B,IAAIb,EAAWe,EAAWlB,GAAOxD,QAAQ2D,SAIzC,OAHA,8BAAoBa,GAAK,WACvB,OAAOb,KAEF,KAGT,OAAoB,qBAAWgB,GClD1B,SAASC,EAAkBL,EAAeM,GAC/C,OAAqB,MAAjBA,EACK,SAAoCrB,EAAOpE,GAChD,OAAO,iBAAOmF,EAAcf,EAAOpE,KAIhC,SAAkCoE,EAAOpE,GAC9C,IAAI0F,EAAa,iBAAOP,EAAcf,EAAOpE,IACzC2F,EAAW,iBAAOvB,GAClBG,EAAWmB,EAAW9E,QAAQ2D,SAOlC,OANA,qBAAU,WACJoB,EAAS/E,UAAYwD,IACvBqB,EAAclB,EAAUH,EAAOuB,EAAS/E,SACxC+E,EAAS/E,QAAUwD,KAEpB,CAACG,EAAUH,EAAOpE,IACd0F,GCjBJ,SAASE,EAAezF,EAAK0F,GAClC,IAAIC,EAAiB,iBAAOD,GAC5B,qBAAU,WACJA,IAAgBC,EAAelF,SAAqC,MAA1BT,EAAI4F,qBAClB,MAA1BD,EAAelF,SACjBT,EAAI4F,mBAAmBC,kBAAkBF,EAAelF,SAGvC,MAAfiF,GACF1F,EAAI4F,mBAAmBE,eAAeJ,IAI1CC,EAAelF,QAAUiF,IACxB,CAAC1F,EAAK0F,ICdJ,SAASK,EAAiBC,EAASC,GACxC,IAAIC,EAAmB,mBACvB,qBAAU,WAMR,OALqB,MAAjBD,GACFD,EAAQ5B,SAAS+B,GAAGF,GAGtBC,EAAiBzF,QAAUwF,EACpB,WAC2B,MAA5BC,EAAiBzF,SACnBuF,EAAQ5B,SAASgC,IAAIF,EAAiBzF,SAGxCyF,EAAiBzF,QAAU,QAE5B,CAACuF,EAASC,IChBA,SAASI,EAAgBC,EAAKrF,EAAKf,GAYhD,OAXIe,KAAOqF,EACTjF,OAAOkF,eAAeD,EAAKrF,EAAK,CAC9Bf,MAAOA,EACPsG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZJ,EAAIrF,GAAOf,EAGNoG,ECVT,SAASK,EAAQC,EAAQC,GAAkB,IAAIvF,EAAOD,OAAOC,KAAKsF,GAAS,GAAIvF,OAAOI,sBAAuB,CAAE,IAAIqF,EAAUzF,OAAOI,sBAAsBmF,GAAaC,IAAgBC,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAO3F,OAAO4F,yBAAyBL,EAAQI,GAAKR,eAAgBlF,EAAKuB,KAAKQ,MAAM/B,EAAMwF,GAAY,OAAOxF,EAE9U,SAAS4F,EAAc/F,GAAU,IAAK,IAAID,EAAI,EAAGA,EAAIiC,UAAUvC,OAAQM,IAAK,CAAE,IAAIH,EAAyB,MAAhBoC,UAAUjC,GAAaiC,UAAUjC,GAAK,GAAQA,EAAI,EAAKyF,EAAQtF,OAAON,IAAS,GAAMoG,SAAQ,SAAUlG,GAAOoF,EAAgBlF,EAAQF,EAAKF,EAAOE,OAAsBI,OAAO+F,0BAA6B/F,OAAOgG,iBAAiBlG,EAAQE,OAAO+F,0BAA0BrG,IAAmB4F,EAAQtF,OAAON,IAASoG,SAAQ,SAAUlG,GAAOI,OAAOkF,eAAepF,EAAQF,EAAKI,OAAO4F,yBAAyBlG,EAAQE,OAAe,OAAOE,EAEtgB,SAASmG,EAASrD,EAAOpE,GAC9B,IAAI0H,EAEAC,EAAqC,OAA7BD,EAActD,EAAMuD,MAAgBD,EAAc1H,EAAQ2H,KACtE,OAAOA,EAAON,EAAcA,EAAc,GAAIjD,GAAQ,GAAI,CACxDuD,KAAMA,IACHvD,ECPA,SAASwD,EAAkBzB,EAASnG,GACzC,qBAAU,WACR,IAAI6H,EAEAC,EAAgE,OAAnDD,EAAwB7H,EAAQ+H,gBAA0BF,EAAwB7H,EAAQG,IAE3G,OADA2H,EAAUE,SAAS7B,EAAQ5B,UACpB,WACLuD,EAAUG,YAAY9B,EAAQ5B,aAE/B,CAACvE,EAASmG,IAER,SAAS+B,EAAgB5C,GAC9B,OAAO,SAAkBlB,GACvB,IAAIpE,EAAUD,IACV2F,EAAaJ,EAAWmC,EAASrD,EAAOpE,GAAUA,GAItD,OAHA4F,EAAe5F,EAAQG,IAAKiE,EAAMyB,aAClCK,EAAiBR,EAAW9E,QAASwD,EAAMgC,eAC3CwB,EAAkBlC,EAAW9E,QAASZ,GAC/B0F,GCpBJ,ICD2BJ,ECIK6C,EFH5BC,EEiCF/C,EADQ6C,EADE1C,GF/B6B,SAAyB7B,EAAM3D,GAC7E,IAAIqI,EAAM1E,EAAK0E,IACXnE,EAAUvC,EAAyBgC,EAAM,CAAC,QAE9C,MAAO,CACLY,SAAU,IAAI,YAAiB8D,EAAKZ,EAASvD,EAASlE,IACtDA,QAASA,MGTN,SAAyBsI,EAAOlE,EAAOmE,GAC5C,IAAIC,EAAUpE,EAAMoE,QAChBC,EAASrE,EAAMqE,OAEJ,MAAXD,GAAmBA,IAAYD,EAAUC,SAC3CF,EAAMI,WAAWF,GAGL,MAAVC,GAAkBA,IAAWF,EAAUE,QACzCH,EAAMK,UAAUF,QCPTG,GFI4BT,EEJS,SAA2B/D,GACzE,OAAO,IAAI,UAAQyE,KAAKzE,IFajBiB,GDdyBC,ECYfE,GAPjB,SAAuBpB,EAAOpE,GAC5B,MAAO,CACLuE,SAAU4D,EAAe/D,GACzBpE,QAASA,MDPN,SAA2BoE,GAChC,IAAIpE,EAAUD,IACV2F,EAAaJ,EAAWlB,EAAOpE,GAC/BuE,EAAWmB,EAAW9E,QAAQ2D,SAC9BuE,EAAc,iBAAO1E,EAAM2E,UAC3BA,EAAW3E,EAAM2E,SAarB,OAZA,qBAAU,WAER,OADAxE,EAASyE,MAAMhJ,EAAQG,KAChB,WACLoE,EAAS0E,YAEV,CAACjJ,EAAQG,IAAKoE,IACjB,qBAAU,WACQ,MAAZwE,GAAoBA,IAAaD,EAAYlI,UAC/C2D,EAAS2E,YAAYH,GACrBD,EAAYlI,QAAUmI,KAEvB,CAACxE,EAAUwE,IACPrD,MImCIyD,EA/CH,SAAE/E,GAAY,IAChBR,EAAuEQ,EAAvER,SAAUC,EAA6DO,EAA7DP,UADK,EACwDO,EAAlDgF,sBADN,MAFG,gBAEH,EAC+CC,EAD/C,EACwDjF,EADxD,2CAGvBkF,cAEA,IAGMC,EAHWC,YAAe,CAC9BC,MAAM,YAAK,IAAIC,IAAI,CAACN,EARI,qBAUDO,MAAK,SAAEC,GAAF,OAAeA,EAAQC,OAAST,KAE1DU,EAAY,MAMhB,GAJKjG,IACHiG,EAAkBA,EAAN,IAAsBjG,GpBfX,oBAAXkG,SAA4BA,OAAOC,WAAcD,OAAOC,SAAS7E,coBmB7E,OACE,yBAAKtB,UAAWiG,GACd,uBAAGjG,UAAU,eAAb,mBAKN,IAAMoG,EAAW,eACfpG,UAAW,WACXqG,aAAa,GACVb,GAGL,OACE,yBAAKxF,UAAWiG,GACd,kBAACpG,EAAiBuG,EACdrG,EACA2F,GAAW,kBAACnB,EAAcmB,GAC5B,kBAACX,EAAD,CAAaG,SAAS,mBCzBxBoB,EAAS,CAJR,SACC,SAkOOC,UAvNG,WAAO,IrBOI/J,EACrBgK,EqBRgB,EACWC,YAAW,CAC1CC,IAAK,cADCC,KAAMC,OADQ,MACI,GADJ,IAKOH,YAAW,CACtCC,IAAK,QADCC,KAAME,OALQ,MAKA,GALA,EAUhBC,EAAexI,MAAMC,QAAQqI,IAAcA,EAAU1J,OAAS,EAE9D6J,EAAiB,CACrB,CACEC,QAAS,CACPC,MAAO,cACPzK,MAAOqK,aAAF,EAAEA,EAAOK,OAEhBC,UAAW,CACTF,MAAO,gBACPzK,MAAOqK,aAAF,EAAEA,EAAOO,qBAGlB,CACEJ,QAAS,CACPC,MAAO,eACPzK,MAAOqK,aAAF,EAAEA,EAAOQ,QAEhBF,UAAW,CACTF,MAAO,gBACPzK,MAAOqK,aAAF,EAAEA,EAAOS,sBAGlB,CACEN,QAAS,CACPC,MAAO,cACPzK,MAAOqK,aAAF,EAAEA,EAAOU,OAEhBJ,UAAW,CACTF,MAAO,gBACPzK,MAAOqK,aAAF,EAAEA,EAAOW,qBAGlB,CACER,QAAS,CACPC,MAAO,iBACPzK,MAAOqK,aAAF,EAAEA,EAAOY,UAEhBN,UAAW,CACTF,MAAO,gBACPzK,MAAOqK,aAAF,EAAEA,EAAOa,wBAGlB,CACEV,QAAS,CACPC,MAAO,eACPzK,MAAOqK,aAAF,EAAEA,EAAOc,QAEhBR,UAAW,CACTF,MAAO,gBACPzK,MAAOqK,aAAF,EAAEA,EAAOe,sBAGlB,CACEZ,QAAS,CACPC,MAAO,kBACPzK,MAAOqK,aAAF,EAAEA,EAAOgB,WAEhBV,UAAW,CACTF,MAAO,gBACPzK,MAAOqK,aAAF,EAAEA,EAAOiB,0BAKd1B,EAAc,CAClBzF,OAAQ2F,EACRf,eAAgB,gBAChB3E,KArFiB,GAwFbmH,EAAY,WAChB,IAAMzL,EAAMD,IAoFZ,OAlFA2L,qBAAU,YAEG,uCAAG,4BAAAC,EAAA,yDAEPnB,EAFO,iDAINoB,EAAU,CACdC,KAAM,oBACNC,SAAUxB,EAAUtK,KAAI,SAAC+L,QAAiB,IAAjBA,MAAU,IAAO,MACXA,EAArBC,mBADgC,MAClB,GADkB,EAEhCC,EAAmBD,EAAnBC,IAAWC,EAAQF,EAAdG,KACb,MAAO,CACLN,KAAM,UACNO,WAAW,OAAD,UACLL,GAELM,SAAU,CACRR,KAAM,QACNS,YAAa,CAACJ,EAAKD,SAML,IAAIM,IAAEC,QAAQZ,EAAS,CAC3Ca,aAAc,SAACC,EAAcC,QAAW,IAAzBD,MAAU,IAAe,IAElCE,EACAC,EAHkC,EACVH,EAApBN,kBAD8B,MACjB,GADiB,EAMpCL,EAKEK,EALFL,QACAe,EAIEV,EAJFU,QACAlC,EAGEwB,EAHFxB,MACAG,EAEEqB,EAFFrB,OACAQ,EACEa,EADFb,UAGFsB,EAAW,GAAMjC,EAEbA,EAAQ,IACViC,EAAiBE,KAAKC,MAAMH,EAAc,KAA/B,KACJjC,EAAQ,MACfiC,EAAiBA,EAAYI,MAAM,GAAI,GAA5B,MAGTH,IACFF,EAAmB,IAAIM,KAAKJ,GAASK,kBAGvC,IAAMC,EAAI,yHAGErB,EAHF,sFAKgC9L,EAAQ2K,GALxC,2DAM6B3K,EAAQ8K,GANrC,8DAOgC9K,EAAQsL,GAPxC,gEAQkCqB,EARlC,4EAWJC,EAXI,wCAeV,OAAON,IAAEc,OAAOV,EAAQ,CACtBW,KAAMf,IAAEgB,QAAQ,CACd7J,UAAW,OACX0J,SAEFI,aAAa,OAKL3E,MAAM7I,GAzER,2CAAH,qDA6EXyN,KACC,IAEI,MAKT,OAFAC,QAAQC,IAAI,OAAQ1N,EAAQ,WAG1B,kBAAC2N,EAAA,EAAD,CAAQC,SAAS,QACf,kBAACC,EAAA,EAAD,KACE,6CAGF,yBAAKpK,UAAU,WACb,kBAAC,EAAQoG,EACP,kBAAC2B,EAAD,OAEF,yBAAK/H,UAAU,iBACb,4BACG+G,EAAezK,KAAI,WAAmCkB,GAAO,IAAD,IAAtCwJ,eAAsC,MAA5B,GAA4B,MAAxBG,iBAAwB,MAAZ,GAAY,EAC3D,OACE,wBAAI5J,IAAG,QAAUC,EAAKwC,UAAU,gBAC5BgH,EAAQxK,OACR,uBAAGwD,UAAU,wBACTzD,EAAQyK,EAAQxK,OAClB,gCAASwK,EAAQC,QAGnBE,EAAU3K,OACV,uBAAGwD,UAAU,0BACTzD,EAAQ4K,EAAU3K,OACpB,gCAAS2K,EAAUF,cASjC,yBAAKjH,UAAU,wBACb,4CACkB6G,GrBvMCrK,EqBuMoBqK,aAAD,EAACA,EAAOuC,QrBtMhD5C,EAAO,IAAIgD,KAAKhN,GACf,IAAI6N,KAAKC,eAAe,KAAM,CACnCC,KAAM,UACNC,MAAO,QACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,YACPC,OAAOpE,IqB+LuD","file":"component---src-pages-index-js-c4509cf97692bd8e801b.js","sourcesContent":["import { createContext, useContext } from 'react';\nexport var CONTEXT_VERSION = 1;\nexport var LeafletContext = /*#__PURE__*/createContext(null);\nexport var LeafletProvider = LeafletContext.Provider;\nexport function useLeafletContext() {\n  var context = useContext(LeafletContext);\n\n  if (context == null) {\n    throw new Error('No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>');\n  }\n\n  return context;\n}","import { useLeafletContext } from '@react-leaflet/core';\nimport { useEffect } from 'react';\nexport function useMap() {\n  return useLeafletContext().map;\n}\nexport function useMapEvent(type, handler) {\n  var map = useMap();\n  useEffect(function addMapEventHandler() {\n    // @ts-ignore event type\n    map.on(type, handler);\n    return function removeMapEventHandler() {\n      // @ts-ignore event type\n      map.off(type, handler);\n    };\n  }, [map, type, handler]);\n  return map;\n}\nexport function useMapEvents(handlers) {\n  var map = useMap();\n  useEffect(function addMapEventHandlers() {\n    map.on(handlers);\n    return function removeMapEventHandlers() {\n      map.off(handlers);\n    };\n  }, [map, handlers]);\n  return map;\n}","/**\r\n * isDomAvailable\r\n * @description Checks to see if the DOM is available by checking the existence of the window and document\r\n * @see https://github.com/facebook/fbjs/blob/master/packages/fbjs/src/core/ExecutionEnvironment.js#L12\r\n */\r\n\r\nexport function isDomAvailable() {\r\n  return typeof window !== 'undefined' && !!window.document && !!window.document.createElement;\r\n}\r\n\r\nexport function commafy(value) {\r\n  let origString = `${value}`\r\n  let numberString = origString.split(\".\")[0];\r\n\r\n  numberString = numberString.split('');\r\n\r\n  numberString.reverse();\r\n\r\n  numberString = numberString.reduce((prev, current, index) => {\r\n    const shouldComma = (index + 1) % 3 === 0 && index + 1 < numberString.length;\r\n    let updatedValue = `${prev}${current}`;\r\n    if ( shouldComma ) {\r\n      updatedValue = `${updatedValue},`;\r\n    }\r\n    return updatedValue;\r\n  }, '');\r\n\r\n  numberString = numberString.split('');\r\n  numberString.reverse()\r\n  numberString = numberString.join('');\r\n\r\n  return origString.split(\".\").length > 1 ? [numberString, origString.split(\".\")[1]].join(\".\") : numberString;\r\n}\r\n\r\nexport function friendlyDate(value) {\r\n  const date = new Date(value);\r\n  return new Intl.DateTimeFormat('en', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: '2-digit',\r\n    hour: 'numeric',\r\n    minute: 'numeric'\r\n  }).format(date);\r\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import _objectWithoutProperties from \"C:/Users/jezza/Documents/Programming/Redwood Code Academy/Lectures/js/react/my-coronavirus-map/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"C:/Users/jezza/Documents/Programming/Redwood Code Academy/Lectures/js/react/my-coronavirus-map/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { CONTEXT_VERSION, LeafletProvider } from '@react-leaflet/core';\nimport { Map as LeafletMap } from 'leaflet';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nexport function useMapElement(mapRef, props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      map = _useState2[0],\n      setMap = _useState2[1];\n\n  useEffect(function () {\n    if (mapRef.current !== null && map === null) {\n      var instance = new LeafletMap(mapRef.current, props);\n\n      if (props.center != null && props.zoom != null) {\n        instance.setView(props.center, props.zoom);\n      } else if (props.bounds != null) {\n        instance.fitBounds(props.bounds, props.boundsOptions);\n      }\n\n      if (props.whenReady != null) {\n        instance.whenReady(props.whenReady);\n      }\n\n      setMap(instance);\n    }\n  }, [mapRef, map, props]);\n  return map;\n}\nexport function MapContainer(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      id = _ref.id,\n      placeholder = _ref.placeholder,\n      style = _ref.style,\n      whenCreated = _ref.whenCreated,\n      options = _objectWithoutProperties(_ref, [\"children\", \"className\", \"id\", \"placeholder\", \"style\", \"whenCreated\"]);\n\n  var mapRef = useRef(null);\n  var map = useMapElement(mapRef, options);\n  var createdRef = useRef(false);\n  useEffect(function () {\n    if (map != null && createdRef.current === false && whenCreated != null) {\n      createdRef.current = true;\n      whenCreated(map);\n    }\n  }, [map, whenCreated]); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  var props = useMemo(function () {\n    return {\n      className: className,\n      id: id,\n      style: style\n    };\n  }, []);\n  var context = useMemo(function () {\n    return map ? {\n      __version: CONTEXT_VERSION,\n      map: map\n    } : null;\n  }, [map]);\n  var contents = context ? /*#__PURE__*/React.createElement(LeafletProvider, {\n    value: context\n  }, children) : placeholder != null ? placeholder : null;\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    ref: mapRef\n  }), contents);\n}","import _slicedToArray from \"C:/Users/jezza/Documents/Programming/Redwood Code Academy/Lectures/js/react/my-coronavirus-map/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { forwardRef, useEffect, useImperativeHandle, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { LeafletProvider } from './context';\nexport function createContainerComponent(useElement) {\n  function ContainerComponent(props, ref) {\n    var _useElement$current = useElement(props).current,\n        instance = _useElement$current.instance,\n        context = _useElement$current.context;\n    useImperativeHandle(ref, function () {\n      return instance;\n    });\n    return props.children == null ? null : /*#__PURE__*/React.createElement(LeafletProvider, {\n      value: context\n    }, props.children);\n  }\n\n  return /*#__PURE__*/forwardRef(ContainerComponent);\n}\nexport function createDivOverlayComponent(useElement) {\n  function OverlayComponent(props, ref) {\n    var _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isOpen = _useState2[0],\n        setOpen = _useState2[1];\n\n    var instance = useElement(props, setOpen).current.instance;\n    useImperativeHandle(ref, function () {\n      return instance;\n    });\n    useEffect(function updateOverlay() {\n      if (isOpen) {\n        instance.update();\n      }\n    }, [instance, isOpen, props.children]); // @ts-ignore _contentNode missing in type definition\n\n    var contentNode = instance._contentNode;\n    return contentNode ? /*#__PURE__*/createPortal(props.children, contentNode) : null;\n  }\n\n  return /*#__PURE__*/forwardRef(OverlayComponent);\n}\nexport function createLeafComponent(useElement) {\n  function LeafComponent(props, ref) {\n    var instance = useElement(props).current.instance;\n    useImperativeHandle(ref, function () {\n      return instance;\n    });\n    return null;\n  }\n\n  return /*#__PURE__*/forwardRef(LeafComponent);\n}","import { useEffect, useRef } from 'react';\nexport function createElementHook(createElement, updateElement) {\n  if (updateElement == null) {\n    return function useImmutableLeafletElement(props, context) {\n      return useRef(createElement(props, context));\n    };\n  }\n\n  return function useMutableLeafletElement(props, context) {\n    var elementRef = useRef(createElement(props, context));\n    var propsRef = useRef(props);\n    var instance = elementRef.current.instance;\n    useEffect(function updateElementProps() {\n      if (propsRef.current !== props) {\n        updateElement(instance, props, propsRef.current);\n        propsRef.current = props;\n      }\n    }, [instance, props, context]);\n    return elementRef;\n  };\n}","import { useEffect, useRef } from 'react';\nexport function useAttribution(map, attribution) {\n  var attributionRef = useRef(attribution);\n  useEffect(function updateAttribution() {\n    if (attribution !== attributionRef.current && map.attributionControl != null) {\n      if (attributionRef.current != null) {\n        map.attributionControl.removeAttribution(attributionRef.current);\n      }\n\n      if (attribution != null) {\n        map.attributionControl.addAttribution(attribution);\n      }\n    }\n\n    attributionRef.current = attribution;\n  }, [map, attribution]);\n}","import { useEffect, useRef } from 'react';\nexport function useEventHandlers(element, eventHandlers) {\n  var eventHandlersRef = useRef();\n  useEffect(function addEventHandlers() {\n    if (eventHandlers != null) {\n      element.instance.on(eventHandlers);\n    }\n\n    eventHandlersRef.current = eventHandlers;\n    return function removeEventHandlers() {\n      if (eventHandlersRef.current != null) {\n        element.instance.off(eventHandlersRef.current);\n      }\n\n      eventHandlersRef.current = null;\n    };\n  }, [element, eventHandlers]);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import _defineProperty from \"C:/Users/jezza/Documents/Programming/Redwood Code Academy/Lectures/js/react/my-coronavirus-map/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport function withPane(props, context) {\n  var _props$pane;\n\n  var pane = (_props$pane = props.pane) != null ? _props$pane : context.pane;\n  return pane ? _objectSpread(_objectSpread({}, props), {}, {\n    pane: pane\n  }) : props;\n}","import { useEffect } from 'react';\nimport { useAttribution } from './attribution';\nimport { useLeafletContext } from './context';\nimport { useEventHandlers } from './events';\nimport { withPane } from './pane';\nexport function useLayerLifecycle(element, context) {\n  useEffect(function addLayer() {\n    var _context$layerContain;\n\n    var container = (_context$layerContain = context.layerContainer) != null ? _context$layerContain : context.map;\n    container.addLayer(element.instance);\n    return function removeLayer() {\n      container.removeLayer(element.instance);\n    };\n  }, [context, element]);\n}\nexport function createLayerHook(useElement) {\n  return function useLayer(props) {\n    var context = useLeafletContext();\n    var elementRef = useElement(withPane(props, context), context);\n    useAttribution(context.map, props.attribution);\n    useEventHandlers(elementRef.current, props.eventHandlers);\n    useLayerLifecycle(elementRef.current, context);\n    return elementRef;\n  };\n}","import _objectWithoutProperties from \"C:/Users/jezza/Documents/Programming/Redwood Code Academy/Lectures/js/react/my-coronavirus-map/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { createTileLayerComponent, updateGridLayer, withPane } from '@react-leaflet/core';\nimport { TileLayer as LeafletTileLayer } from 'leaflet';\nexport var TileLayer = createTileLayerComponent(function createTileLayer(_ref, context) {\n  var url = _ref.url,\n      options = _objectWithoutProperties(_ref, [\"url\"]);\n\n  return {\n    instance: new LeafletTileLayer(url, withPane(options, context)),\n    context: context\n  };\n}, updateGridLayer);","import { useEffect, useRef } from 'react';\nimport { useLeafletContext } from './context';\nexport function createControlHook(useElement) {\n  return function useLeafletControl(props) {\n    var context = useLeafletContext();\n    var elementRef = useElement(props, context);\n    var instance = elementRef.current.instance;\n    var positionRef = useRef(props.position);\n    var position = props.position;\n    useEffect(function addControl() {\n      instance.addTo(context.map);\n      return function removeControl() {\n        instance.remove();\n      };\n    }, [context.map, instance]);\n    useEffect(function updateControl() {\n      if (position != null && position !== positionRef.current) {\n        instance.setPosition(position);\n        positionRef.current = position;\n      }\n    }, [instance, position]);\n    return elementRef;\n  };\n}","import { createContainerComponent, createDivOverlayComponent, createLeafComponent } from './component';\nimport { createControlHook } from './control';\nimport { createElementHook } from './element';\nimport { createLayerHook } from './layer';\nimport { createDivOverlayHook } from './div-overlay';\nimport { createPathHook } from './path';\nexport function createControlComponent(createInstance) {\n  function createElement(props, context) {\n    return {\n      instance: createInstance(props),\n      context: context\n    };\n  }\n\n  var useElement = createElementHook(createElement);\n  var useControl = createControlHook(useElement);\n  return createLeafComponent(useControl);\n}\nexport function createLayerComponent(createElement, updateElement) {\n  var useElement = createElementHook(createElement, updateElement);\n  var useLayer = createLayerHook(useElement);\n  return createContainerComponent(useLayer);\n}\nexport function createOverlayComponent(createElement, useLifecycle) {\n  var useElement = createElementHook(createElement);\n  var useOverlay = createDivOverlayHook(useElement, useLifecycle);\n  return createDivOverlayComponent(useOverlay);\n}\nexport function createPathComponent(createElement, updateElement) {\n  var useElement = createElementHook(createElement, updateElement);\n  var usePath = createPathHook(useElement);\n  return createContainerComponent(usePath);\n}\nexport function createTileLayerComponent(createElement, updateElement) {\n  var useElement = createElementHook(createElement, updateElement);\n  var useLayer = createLayerHook(useElement);\n  return createLeafComponent(useLayer);\n}","export function updateGridLayer(layer, props, prevProps) {\n  var opacity = props.opacity,\n      zIndex = props.zIndex;\n\n  if (opacity != null && opacity !== prevProps.opacity) {\n    layer.setOpacity(opacity);\n  }\n\n  if (zIndex != null && zIndex !== prevProps.zIndex) {\n    layer.setZIndex(zIndex);\n  }\n}","import { createControlComponent } from '@react-leaflet/core';\nimport { Control } from 'leaflet';\nexport var ZoomControl = createControlComponent(function createZoomControl(props) {\n  return new Control.Zoom(props);\n});","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { MapContainer, TileLayer, ZoomControl } from 'react-leaflet';\r\n\r\nimport { useConfigureLeaflet, useMapServices } from 'hooks';\r\nimport { isDomAvailable } from 'lib/util';\r\n\r\nconst DEFAULT_MAP_SERVICE = 'OpenStreetMap';\r\n\r\nconst Map = ( props ) => {\r\n  const { children, className, defaultBaseMap = DEFAULT_MAP_SERVICE, ...rest } = props;\r\n\r\n  useConfigureLeaflet();\r\n\r\n  const services = useMapServices({\r\n    names: [...new Set([defaultBaseMap, DEFAULT_MAP_SERVICE])],\r\n  });\r\n  const basemap = services.find(( service ) => service.name === defaultBaseMap );\r\n\r\n  let mapClassName = `map`;\r\n\r\n  if ( className ) {\r\n    mapClassName = `${mapClassName} ${className}`;\r\n  }\r\n\r\n  if ( !isDomAvailable()) {\r\n    return (\r\n      <div className={mapClassName}>\r\n        <p className=\"map-loading\">Loading map...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const mapSettings = {\r\n    className: 'map-base',\r\n    zoomControl: false,\r\n    ...rest,\r\n  };\r\n\r\n  return (\r\n    <div className={mapClassName}>\r\n      <MapContainer {...mapSettings}>\r\n        { children }\r\n        { basemap && <TileLayer {...basemap} /> }\r\n        <ZoomControl position=\"bottomright\" />\r\n      </MapContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nMap.propTypes = {\r\n  children: PropTypes.node,\r\n  className: PropTypes.string,\r\n  defaultBaseMap: PropTypes.string,\r\n};\r\n\r\nexport default Map;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport L from 'leaflet';\r\nimport { useMap } from 'react-leaflet';\r\nimport axios from 'axios'\r\nimport { useTracker } from 'hooks'\r\nimport { commafy, friendlyDate } from 'lib/util'\r\n\r\nimport Layout from 'components/Layout';\r\nimport Container from 'components/Container';\r\nimport Map from 'components/Map';\r\nimport Snippet from 'components/Snippet';\r\n\r\n\r\nconst LOCATION = {\r\n  lat: 38.9072,\r\n  lng: -77.0369,\r\n};\r\n\r\nconst CENTER = [LOCATION.lat, LOCATION.lng];\r\nconst DEFAULT_ZOOM = 2;\r\n\r\n/**\r\n * MapEffect\r\n * @description This is an example of creating an effect used to zoom in and set a popup on load\r\n */\r\n\r\nconst IndexPage = () => {\r\n  const { data: countries = [] } = useTracker({\r\n    api: 'countries'\r\n  })\r\n\r\n  const { data: stats = [] } = useTracker({\r\n    api: \"all\"\r\n  })\r\n\r\n\r\n  const hasCountries = Array.isArray(countries) && countries.length > 0\r\n\r\n  const dashboardStats = [\r\n    {\r\n      primary: {\r\n        label: 'Total Cases',\r\n        value: stats?.cases\r\n      },\r\n      secondary: {\r\n        label: 'Per 1 Million',\r\n        value: stats?.casesPerOneMillion\r\n      }\r\n    },\r\n    {\r\n      primary: {\r\n        label: 'Total Deaths',\r\n        value: stats?.deaths\r\n      },\r\n      secondary: {\r\n        label: 'Per 1 Million',\r\n        value: stats?.deathsPerOneMillion\r\n      }\r\n    },\r\n    {\r\n      primary: {\r\n        label: 'Total Tests',\r\n        value: stats?.tests\r\n      },\r\n      secondary: {\r\n        label: 'Per 1 Million',\r\n        value: stats?.testsPerOneMillion\r\n      }\r\n    },\r\n    {\r\n      primary: {\r\n        label: \"Critical Cases\",\r\n        value: stats?.critical\r\n      },\r\n      secondary: {\r\n        label: \"Per 1 Million\",\r\n        value: stats?.criticalPerOneMillion\r\n      }\r\n    },\r\n    {\r\n      primary: {\r\n        label: \"Active Cases\",\r\n        value: stats?.active\r\n      },\r\n      secondary: {\r\n        label: \"Per 1 Million\",\r\n        value: stats?.activePerOneMillion\r\n      }\r\n    },\r\n    {\r\n      primary: {\r\n        label: \"Recovered Cases\",\r\n        value: stats?.recovered\r\n      },\r\n      secondary: {\r\n        label: \"Per 1 Million\",\r\n        value: stats?.recoveredPerOneMillion\r\n      }\r\n    }\r\n  ]\r\n\r\n  const mapSettings = {\r\n    center: CENTER,\r\n    defaultBaseMap: 'OpenStreetMap',\r\n    zoom: DEFAULT_ZOOM,\r\n  };\r\n\r\n  const MapEffect = () => {\r\n    const map = useMap()\r\n\r\n    useEffect(() => {\r\n\r\n      const fetch = async () => {\r\n\r\n        if (!hasCountries) return;\r\n\r\n        const geoJson = {\r\n          type: 'FeatureCollection',\r\n          features: countries.map((country = {}) => {\r\n            const { countryInfo = {} } = country;\r\n            const { lat, long: lng } = countryInfo;\r\n            return {\r\n              type: 'Feature',\r\n              properties: {\r\n                ...country,\r\n              },\r\n              geometry: {\r\n                type: 'Point',\r\n                coordinates: [lng, lat]\r\n              }\r\n            }\r\n          })\r\n        }\r\n\r\n        const geoJsonLayers = new L.GeoJSON(geoJson, {\r\n          pointToLayer: (feature = {}, latlng) => {\r\n            const { properties = {} } = feature;\r\n            let updatedFormatted;\r\n            let casesString;\r\n\r\n            const {\r\n              country,\r\n              updated,\r\n              cases,\r\n              deaths,\r\n              recovered\r\n            } = properties\r\n\r\n            casesString = `${cases}`;\r\n\r\n            if (cases > 1000000)\r\n              casesString = `${Math.floor(casesString / 1000000)}m+`\r\n            else if (cases > 1000) {\r\n              casesString = `${casesString.slice(0, -3)}k+`\r\n            }\r\n\r\n            if (updated) {\r\n              updatedFormatted = new Date(updated).toLocaleString();\r\n            }\r\n\r\n            const html = `\r\n              <span class=\"icon-marker\">\r\n                <span class=\"icon-marker-tooltip\">\r\n                  <h2>${country}</h2>\r\n                  <ul>\r\n                    <li><strong>Confirmed:</strong> ${commafy(cases)}</li>\r\n                    <li><strong>Deaths:</strong> ${commafy(deaths)}</li>\r\n                    <li><strong>Recovered:</strong> ${commafy(recovered)}</li>\r\n                    <li><strong>Last Update:</strong> ${updatedFormatted}</li>\r\n                  </ul>\r\n                </span>\r\n                ${casesString}\r\n              </span>\r\n            `;\r\n\r\n            return L.marker(latlng, {\r\n              icon: L.divIcon({\r\n                className: 'icon',\r\n                html\r\n              }),\r\n              riseOnHover: true\r\n            });\r\n          }\r\n        })\r\n\r\n        geoJsonLayers.addTo(map)\r\n\r\n      }\r\n\r\n      fetch()\r\n    }, []);\r\n\r\n    return null;\r\n  };\r\n\r\n  console.log('TEST', commafy(73691855))\r\n\r\n  return (\r\n    <Layout pageName=\"home\">\r\n      <Helmet>\r\n        <title>Home Page</title>\r\n      </Helmet>\r\n\r\n      <div className=\"tracker\">\r\n        <Map {...mapSettings}>\r\n          <MapEffect />\r\n        </Map>\r\n        <div className=\"tracker-stats\">\r\n          <ul>\r\n            {dashboardStats.map(({ primary = {}, secondary = {} }, i) => {\r\n              return (\r\n                <li key={`Stat-${i}`} className=\"tracker-stat\">\r\n                  { primary.value && (\r\n                    <p className=\"tracker-stat-primary\">\r\n                      { commafy(primary.value)}\r\n                      <strong>{primary.label}</strong>\r\n                    </p>\r\n                  )}\r\n                  { secondary.value && (\r\n                    <p className=\"tracker-stat-secondary\">\r\n                      { commafy(secondary.value)}\r\n                      <strong>{secondary.label}</strong>\r\n                    </p>\r\n                  )}\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        </div>\r\n\r\n        <div className=\"tracker-last-updated\">\r\n          <p>\r\n            Last Updated: { stats ? friendlyDate(stats?.updated) : \"-\" }\r\n          </p>\r\n        </div>\r\n\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default IndexPage;\r\n"],"sourceRoot":""}